<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tier List</title>

    <script defer src="/__/firebase/9.22.2/firebase-app-compat.js"></script>
    <script defer src="/__/firebase/init.js?useEmulator=true"></script>

    <!-- Compression for sharing URLs -->
    <script id="lzutf8" src="https://cdn.jsdelivr.net/npm/lzutf8/build/production/lzutf8.js"></script>

    <link rel="icon" type="image/png" href="/assets/icon.png">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <header>
        <div>
            <img src="assets/icon.png">
            <h1>Tier List</h1>
        </div>
        <div>
            <button class="button" id="toggle-ranking-mode">Ranking Mode &nbsp; <i class="fa-solid fa-ranking-star"></i></button>
            <button class="button" id="share-button">Share &nbsp; <i class="fa fa-share"></i></button>
            <button class="button" id="templates-button">Templates &nbsp; <i class="fa-solid fa-book-atlas"></i></button>
        </div>
    </header>
    <main>
        <div class="tierlist">
            <h1 contenteditable="true" id="title">Click to change title</h1>
            <p class="edit-ui">Click tiers to change text (or click the palette to change color), add tiers and items, then activate ranking mode to hide all the tier making UI. Click share to get a link that will bring you and others back to this list.</p>
            <div id="tiers">
                <template id="tier-template">
                    <div class="tier">
                        <div class="value">
                            <p contenteditable="true">S</p>
                            <label aria-details="change color of tier" class="edit-ui"><input type="color" value="#8a2be2"><i class="fa-solid fa-palette"></i></label>
                        </div>
                        <div class="dropzone"></div>
                        <button class="edit-ui" aria-details="delete tier"><i class="fa-solid fa-trash"></i></button>
                    </div>
                </template>
            </div>
            <br>
            <button class="add edit-ui" id="add-tier">
                <i class="fa-solid fa-plus"></i>
            </button>
        </div>
        <div class="itemlist dropzone" data-dropzone-for="items">
            <div id="items">
                <template id="item-template">
                    <div class="item" draggable="true">
                        <div class="label" contenteditable="true">A</div>
                        <button class="edit-ui" aria-details="delete item"><i class="fa-solid fa-trash"></i></button>
                    </div>
                </template>
                <div class="addwrapper preserve-last edit-ui">
                    <button class="add" id="add-item-button">
                        <i class="fa-solid fa-plus"></i>
                    </button>
                </div>
            </div>
        </div>
        <dialog id="add-item">
            <div class="item-preview" id="preview">
                <div class="label">Label</div>
                <i class="fa-solid fa-rotate-right"></i>
            </div>
            <label>Label text: <input type="text" id="input-label"></label><br>
            <input type="radio" name="image" id="use-image-url" checked><label for="use-image-url">Image url: <input type="url" id="input-url"></label><br>
            <input type="radio" name="image" id="use-image-upload"><label for="use-image-upload">Image upload:</label>
            <div id="image-drop">
                <label><i class="fa fa-image"></i><input id="image-upload" type="file" accept="image/*" style="display: none;"></label>
            </div>
            <p>Suggested images (based on label):</p>
            <div id="suggestions">
                <label><input type="radio" name="image"></label>
                <label><input type="radio" name="image"></label>
                <label><input type="radio" name="image"></label>
                <label><input type="radio" name="image"></label>
            </div><br>
            <button class="button" id="create-item">Create!</button>
        </dialog>
        <dialog id="alert"></dialog>
        <dialog id="templates">
            <div style="display: flex; flex-direction: column;">
                <p>Press escape to close.</p>
                <label>1. Editors and IDEs: <button onclick="loadTemplate('CodeEditors')" style="float: right; margin-bottom: 8px;">Load</button></label>
                <label>2. Programming Languages: &nbsp; <button style="float: right; margin-bottom: 8px;">Load</button></label>
                <label>3. Foodstuffs: <button style="float: right; margin-bottom: 8px;">Load</button></label>
                <label>4. Songs: <button style="float: right; margin-bottom: 8px;">Load</button></label>
            </div>
        </dialog>
    </main>
    <footer>
        <p>Images from <a href="https://pixabay.com/">Pixabay</a> | <a target="_blank" href="https://icons8.com/icon/tY7IifTUrMVF/level">Level</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a> | <a href="https://github.com/SanderGi/Tierlist">Code</a> opensource under <a href="https://github.com/SanderGi/Tierlist/blob/master/LICENSE">GPL-3.0 license</a></p>
    </footer>

    <!-- Drag and Drop polyfill for IOS -->
    <script id="DragDropTouch" src="https://bernardo-castilho.github.io/DragDropTouch/DragDropTouch.js"></script>

    <script src="drag.js"></script>
    <script src="scripts.js"></script>
  </body>
</html>
